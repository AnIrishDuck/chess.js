<html>
<head>
    <title>Chess Board</title>
    <script src="js/jquery-1.9.1.js"></script>
    <script src="js/underscore.js"></script>
    <script src="js/require.js"></script>
    <script>
    require.config({
        baseUrl: "js/",
    });
    require(["kinetic", "board"], function(Kinetic, Board) {
        var stage = new Kinetic.Stage({
            container: "board",
            width: 800,
            height: 600
        });

        var url = "/" + window.location.hash.slice(1);
        var board = new Board(url, stage);

        board.onReady = function() {
            $.get(url, function(data) {
                board.player = data.player;
                board.replay(data.moves);
            });
        }
    });
</script>
</head>
<body>
<div id="board"></div>
</body>
</html>
